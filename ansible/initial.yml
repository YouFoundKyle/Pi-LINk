---
- hosts: localhost
  connection: local 
  become: yes
  become_method: sudo

  tasks:

  - name: Update all packages
    package:
      name: '*'
      state: latest
      update_cache: yes

  # - name: Write login.defs
  #   copy:
  #     src: files/login.defs
  #     dest: /etc/login.defs
  #     owner: root
  #     group: root
  #     mode: 0700
  #     force: yes
  
  #   - name: Install packages
  #   package:
  #     name: ['docker','python3','python3-devel','python3-pip']
  #     state: installed
  #     update_cache: yes

  # - name: Install docker-compose
  #   get_url:
  #     url: https://github.com/docker/compose/releases/download/1.28.4/docker-compose-Linux-x86_64
  #     dest: /usr/local/bin/docker-compose
  #     mode: 0755

  # - name: Add user to docker group
  #   user:
  #     name: ubuntu
  #     groups: docker
  #     append: yes

  # - name: Enable services
  #   systemd:
  #     name: 'docker.service'
  #     enabled: yes